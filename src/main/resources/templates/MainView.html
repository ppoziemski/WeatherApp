<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<title>Upload File Request Page</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	 <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

</head>
<body>
	<div class="container">
            <h2 >Add Info Weather</h2>
            <div class="row">
                <div class="col-md-6">
                    <form action="#" th:action="@{/Administration/save}" th:object="${weatherCalender}" method="post">
                        <div class="row">
                        	<div class="container-fluid">
                        		<label for="date-started" class="col-form-label">Select date</label>
    							<input type="date"  id="calender_date" class="form-control" th:field="${weatherCalender.calenderdate}"/> 
    							<script>
									var today = new Date();
									var dd = today.getDate();
									var mm = today.getMonth()+1;
									var yyyy = today.getFullYear();
									if(dd<10){
									  dd='0'+dd
									} 
									if(mm<10){
									  mm='0'+mm
									} 
								
									today = yyyy+'-'+mm+'-'+dd;
									document.getElementById("calender_date").setAttribute("max", today);
								</script>
                        	</div>
					      <div class="container-fluid">
					      	<label for="name" class="col-form-label">Type of Weather</label>
					        <select id="weather_type" class="form-control" th:field="${weatherCalender.weather}"> 
					          <option th:each="t : ${weatherType}" th:value="${t.weatherTypeCd}" th:text="${t.weatherTypeCd}"></option>
					        </select>
					      </div>
                        </div> 
                        <div class="row">
                            <div class="col-md-6 mt-3">
                                <input type="submit" class="btn btn-primary" value="Add Weather">
                            </div>
                        </div>    
                    </form>
                </div>
            </div>
        </div>
        
    <div class="container">
		  	<h2 >Check info Weather</h2>
		  	<div class="row">
                <div class="col-md-6">
			    <form method="Get" action="checkPage" >
			    <div class="row">
					<div class="container-fluid">
                    		<label for="date-started" class="col-form-label">Select start date</label>
							<input type="date"  id="calender_date_st" class="form-control" name="start_date" th:value="${start_date}"/> 
							<script>
									var today = new Date();
									var dd = today.getDate();
									var mm = today.getMonth()+1;
									var yyyy = today.getFullYear();
									if(dd<10){
									  dd='0'+dd
									} 
									if(mm<10){
									  mm='0'+mm
									} 
								
									today = yyyy+'-'+mm+'-'+dd;
									document.getElementById("calender_date_st").setAttribute("max", today);
								</script>
                    	</div> 
                    	
                    	<div class="container-fluid">
                    		<label for="date-started" class="col-form-label">Select end date</label>
							<input type="date"  id="calender_date_ed" class="form-control" name="end_date" th:value="${end_date}"/> 
							<script>
									var today = new Date();
									var dd = today.getDate();
									var mm = today.getMonth()+1;
									var yyyy = today.getFullYear();
									if(dd<10){
									  dd='0'+dd
									} 
									if(mm<10){
									  mm='0'+mm
									} 
								
									today = yyyy+'-'+mm+'-'+dd;
									document.getElementById("calender_date_ed").setAttribute("max", today);
								</script>
                    	</div> 
                    	<input type="hidden" id="pagin_no" name="pagin_no" value="1" >
                    	<input type="hidden" id="page_size" name="page_size" value="5">
                    </div>
                    <div class="row"> 
                            <div class="col-md-6 mt-3">
							<input type="submit" value="Get Info" class="btn btn-primary">
							</div>
                       </div> 
				</form>	
		 
			</div>
		  	<div class="col-md-6">
			  	<div class="tablecontainer">
					<table class="table table-hover">
			    		<thead>
				      		<tr>
						        <th>Date</th>
						        <th>Weather</th>
						        <th width="100"></th>
							</tr>
				    	</thead>
			    		<tbody>
						<c:forEach items="${weatherFilter}" var="doc" varStatus="counter">
							<tr th:each="weatherOne: ${weatherFilter}">
								<td th:text="${weatherOne.calenderdate}" />
								<td th:text="${weatherOne.weather.weatherTypeCd}" />
								<td><img th:src="@{${weatherOne.weather.image}}" /></td>
							</tr>
						</c:forEach>
			    		</tbody>
			    	</table>
			    	<div th:if = "${totalPages} > 1">
			    		<div class="row col-sm-12">
			    			<div class="col-sm-4">
			    				Total Rows: [[${totalItems}]]
			    			</div>
			    			<div class="col-sm-5">
			    				<span th:each="i: ${#numbers.sequence(1, totalPages)}">
			    					<a th:if="${currentPage != i && start_date != null && end_date!=null}" th:href="@{'/Administration/checkPage?start_date=' + ${start_date} + '&end_date='  + ${end_date} + '&pagin_no=' + ${i} + '&page_size=5'}">[[${i}]]</a>
			    					<a th:if="${currentPage != i && start_date==null && end_date==null}" th:href="@{'/Administration/autoCheckPagin?pagin_no=' + ${i}  + '&page_size=5'}">[[${i}]]</a>
			    					<span th:unless="${currentPage != i}">[[${i}]]</span> <!-- &nbsp; &nbsp; -->
			    				</span>
			    			</div>
			    			<div class="col-1">
		    					<a th:if="${currentPage <  totalPages && start_date != null && end_date != null}" th:href="@{'/Administration/checkPage?start_date=' + ${start_date} + '&end_date='  + ${end_date} + '&pagin_no=' + ${currentPage + 1}  + '&page_size=5'}">Next</a>
		    					<a th:if="${currentPage <  totalPages && start_date == null && end_date == null}" th:href="@{'/Administration/autoCheckPagin?pagin_no=' + ${currentPage + 1}  + '&page_size=5'}">Next</a>
		    					<span th:unless="${currentPage <  totalPages}">Next</span>
			    			</div>
			    			<div class="col-1">
		    					<a th:if="${currentPage <  totalPages && start_date != null && end_date != null}" th:href="@{'/Administration/checkPage?&start_date=' + ${start_date} + '&end_date='  + ${end_date} + '&pagin_no=' + ${totalPages}  + '&page_size=5'}">Last</a>
		    					<a th:if="${currentPage <  totalPages && start_date == null && end_date == null}" th:href="@{'/Administration/autoCheckPagin?pagin_no=' + ${totalPages}  + '&page_size=5'}">Last</a>
		    					<span th:unless="${currentPage <  totalPages}">Last</span>
			    			</div>
			    		</div>
			    	</div>
			    </div>
			 </div>
		</div>
   </div>
		
</body>
</html>